(this["webpackJsonpwilson-2.0"]=this["webpackJsonpwilson-2.0"]||[]).push([[0],{71:function(e,t,n){},72:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(23),c=n.n(o),r=n(20),s=(n(71),n(66)),l=n(7),i=(n(72),n(11)),d=n(63),j=n(87),h=n(65),u=n(95),b=n(97),O=n(26),p=n(1);function m(e){return Object(p.jsxs)(u.a,{bg:"dark",variant:"dark",children:[Object(p.jsxs)(u.a.Brand,{children:[Object(p.jsx)("img",{alt:"",src:"wilson.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","Wilson"]}),Object(p.jsx)(b.a,{className:"mr-auto",children:e.loggedinUser&&Object(p.jsx)(O.LinkContainer,{to:"/completed",children:Object(p.jsx)(b.a.Link,{children:"Completed"})})}),e.loggedinUser?Object(p.jsxs)("div",{id:"navbar-right",children:[Object(p.jsx)(d.a,{variant:"secondary",id:"new-goal-button",onClick:e.handleGoalModalShow,children:"New Goal"}),Object(p.jsxs)(j.a,{menuAlign:"right",title:e.loggedinUser,children:[Object(p.jsx)(O.LinkContainer,{to:"/",children:Object(p.jsx)(h.a.Item,{active:"false",children:"Home"})}),Object(p.jsx)(O.LinkContainer,{to:"/completed",children:Object(p.jsx)(h.a.Item,{href:"/completed",children:"Completed Goals"})}),Object(p.jsx)(h.a.Divider,{}),Object(p.jsx)(h.a.Item,{onClick:e.logoutUser,children:"Logout"})]})]}):Object(p.jsx)(O.LinkContainer,{to:"/login",children:Object(p.jsx)(d.a,{variant:"secondary",children:"Please Login"})})]})}var x=n(64),g=n(88),f=n(89),k=n(98),C=n(96),v=n(99),w=n(100),y=n(94),T=n(93);function S(e){return Object(p.jsxs)(T.a,{show:e.show,onHide:e.handleDeleteModalClose,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Delete"})}),Object(p.jsxs)(T.a.Body,{children:['Delete "',e.name,'" Task?']}),Object(p.jsxs)(T.a.Footer,{children:[Object(p.jsx)(d.a,{variant:"danger",onClick:function(){fetch("https://wilson-rails.herokuapp.com/tasks/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){e.getRemovedTaskId(t.id),e.handleDeleteModalClose()}))},children:"Confirm"}),Object(p.jsx)(d.a,{variant:"secondary",onClick:e.handleDeleteModalClose,children:"Close"})]})]})}function I(e){var t=Object(a.useState)(e.name),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],h=Object(a.useState)(0),u=Object(l.a)(h,2),b=u[0],O=u[1];Object(a.useEffect)((function(){c(e.name)}),[e.name]);var m=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(p.jsxs)(T.a,{show:e.show,onHide:e.onHide,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Edit Task"})}),Object(p.jsx)(T.a.Body,{children:Object(p.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),O(b+1),fetch("https://wilson-rails.herokuapp.com/tasks/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o})}).then((function(e){return e.json()})).then((function(t){t.error?j(m(t.exception)):(e.handleNewTaskId(b),j(""),e.onHide())}))},children:[Object(p.jsxs)(y.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(y.a.Label,{children:"Task:"}),Object(p.jsx)(y.a.Control,{type:"text",placeholder:"Enter Task",name:"task",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(p.jsxs)("div",{className:"button-error-container",children:[Object(p.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"}),Object(p.jsx)("div",{className:"error",children:i})]})]})})]})}function G(e){var t=Object(a.useState)(e.completed),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=(s[0],s[1],Object(a.useState)(!1)),j=Object(l.a)(i,2),h=j[0],u=j[1],b=Object(a.useState)(!1),O=Object(l.a)(b,2),m=O[0],x=O[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(I,{handleNewTaskId:e.handleNewTaskId,id:e.id,onHide:function(){return x(!1)},name:e.name,show:m}),Object(p.jsx)(S,{getRemovedTaskId:e.getRemovedTaskId,handleNewTaskId:e.handleNewTaskId,id:e.id,handleDeleteModalClose:function(){return u(!1)},name:e.name,show:h}),Object(p.jsx)(k.a.Item,{className:"task",style:{textDecoration:o?"line-through":"",backgroundColor:e.rgb},children:Object(p.jsxs)("div",{className:"task-body",children:[Object(p.jsxs)("div",{className:"task-content",children:[Object(p.jsx)(y.a.Check,{custom:!0,onClick:function(){return t=e.id,e.completeTask(t),c(!o),void(!0===o?e.handleProgressBarChange(-1):e.handleProgressBarChange(1));var t},defaultChecked:e.completed,id:e.id,className:"check"}),e.name]}),Object(p.jsxs)("div",{className:"task-buttons",children:[Object(p.jsx)(d.a,{className:"edit-task-button",variant:"secondary",size:"sm",onClick:function(){return x(!0)},children:"Edit"}),Object(p.jsx)(d.a,{className:"delete-task-button",variant:"danger",size:"sm",onClick:function(){return u(!0)},children:"Remove"})]})]})})]})}function N(e){return Object(p.jsxs)(T.a,{show:e.show,onHide:e.onHide,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Congrats!! You Completed the SOMEGOAL"})}),Object(p.jsx)(T.a.Body,{children:"Would you like to mark this goal as complete?"}),Object(p.jsx)(T.a.Footer,{children:Object(p.jsx)(d.a,{variant:"primary",onClick:function(){return e.completeGoal(e.id)},block:!0,children:"Complete"})})]})}function E(e){return Object(p.jsxs)(T.a,{show:e.show,onHide:e.handleDeleteModalClose,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Delete"})}),Object(p.jsxs)(T.a.Body,{children:['Delete "',e.name,'" Goal?']}),Object(p.jsxs)(T.a.Footer,{children:[Object(p.jsx)(d.a,{variant:"danger",onClick:function(){fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){e.getCompletedGoalId(t.id),e.handleDeleteModalClose()}))},children:"Confirm"}),Object(p.jsx)(d.a,{variant:"secondary",onClick:e.handleDeleteModalClose,children:"Close"})]})]})}function D(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],h=Object(a.useState)(""),u=Object(l.a)(h,2),b=u[0],O=u[1],m=Object(a.useState)(""),x=Object(l.a)(m,2),g=x[0],f=x[1],k=Object(a.useState)("red"),C=Object(l.a)(k,2),v=C[0],w=C[1],S=Object(a.useState)(0),I=Object(l.a)(S,2),G=I[0],N=I[1];Object(a.useEffect)((function(){c(e.name),j(e.description),O(e.due_date),w(e.color)}),[e.name,e.description,e.due_date,e.color]);var E=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(p.jsxs)(T.a,{show:e.show,onHide:e.onHide,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Edit Goal"})}),Object(p.jsx)(T.a.Body,{children:Object(p.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),N(G+1),fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,description:i,due_date:b,rgb:v})}).then((function(e){return e.json()})).then((function(t){t.error?f(E(t.exception)):(e.getCompletedGoalId(G),console.log(t),f(""),e.onHide())}))},children:[Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Goal Name:"}),Object(p.jsx)(y.a.Control,{type:"text",placeholder:"Goal Name",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Goal Description"}),Object(p.jsx)(y.a.Control,{as:"textarea",rows:5,value:i,onChange:function(e){return j(e.target.value)}})]}),Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Complete Goal By: "}),Object(p.jsx)(y.a.Control,{type:"date",onChange:function(e){return O(e.target.value)},value:b})]}),Object(p.jsxs)(y.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(p.jsx)(y.a.Label,{children:"Color"}),Object(p.jsxs)(y.a.Control,{as:"select",onChange:function(e){return w(e.target.value)},value:v,children:[Object(p.jsx)("option",{children:"red"}),Object(p.jsx)("option",{children:"orange"}),Object(p.jsx)("option",{children:"yellow"}),Object(p.jsx)("option",{children:"green"}),Object(p.jsx)("option",{children:"blue"}),Object(p.jsx)("option",{children:"purple"}),Object(p.jsx)("option",{children:"pink"}),Object(p.jsx)("option",{children:"white"}),Object(p.jsx)("option",{children:"black"})]})]}),Object(p.jsxs)("div",{className:"button-error-container",children:[Object(p.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"}),Object(p.jsx)("div",{className:"error",children:g})]})]})})]})}function U(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],j=s[1],h=Object(a.useState)(!1),u=Object(l.a)(h,2),b=u[0],m=u[1],x=Object(a.useState)(!1),g=Object(l.a)(x,2),f=g[0],y=g[1],T=function(){return j(!1)},S=function(){return y(!0)},I=function(){return y(!1)};Object(a.useEffect)((function(){var t=0;e.tasks.forEach((function(e){e.completed&&t++})),c(t)}),[]);var U=function(e){c(o+e)},B=function(){return 100*(o/e.tasks.length)},L=function(){100===B()&&j(!0)};Object(a.useEffect)((function(){B(),L()}),[o]);return Object(p.jsxs)("div",{children:[Object(p.jsx)(D,{getCompletedGoalId:e.getCompletedGoalId,id:e.id,due_date:e.due_date,name:e.name,date:e.date,description:e.description,color:e.rgb,handleEditModalClose:I,onHide:I,handleEditModalShow:S,show:f}),Object(p.jsx)(E,{getCompletedGoalId:e.getCompletedGoalId,id:e.id,handleDeleteModalClose:function(){return m(!1)},name:e.name,show:b}),Object(p.jsx)(N,{id:e.id,completeGoal:function(t){fetch("https://wilson-rails.herokuapp.com/complete-goal/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){t.completed&&(T(),e.getCompletedGoalId(t.id))}))},show:i,onHide:T}),Object(p.jsxs)(C.a,{children:[Object(p.jsx)(C.a.Toggle,{className:"goal-listgroup",style:{backgroundColor:e.rgb},eventKey:e.id,as:k.a.Item,children:Object(p.jsxs)("div",{className:"goal",children:[Object(p.jsx)("div",{className:"goal-name",children:e.name}),Object(p.jsx)(v.a,{style:{backgroundColor:"white",color:e.rgb},now:B()}),Object(p.jsx)("div",{className:"goal-due",children:e.due_date&&Object(p.jsxs)("small",{children:["Due in ",Math.ceil(function(e){var t=new Date;return(new Date(e)-t)/1e3/60/60/24}(e.due_date)+1)," days"]})})]})}),Object(p.jsx)(C.a.Collapse,{eventKey:e.id,children:Object(p.jsxs)(w.a.Body,{className:"goal-body",onClick:function(){return e.handleClickedGoalId(e.id)},children:[Object(p.jsx)(O.LinkContainer,{to:"goal-showpage",children:Object(p.jsx)(d.a,{variant:"secondary",children:"Show"})}),Object(p.jsx)(d.a,{variant:"primary",className:"add-task-button",onClick:e.handleTaskModalShow,children:"Add Task"}),Object(p.jsx)(d.a,{variant:"secondary",className:"edit-goal-button",onClick:S,children:"Edit"}),Object(p.jsx)(d.a,{variant:"danger",className:"delete-goal-button",onClick:function(){return m(!0)},children:"Delete"}),e.tasks.map((function(t){return Object(p.jsx)(G,{getRemovedTaskId:e.getRemovedTaskId,handleNewTaskId:e.handleNewTaskId,handleProgressBarChange:U,completeTask:e.completeTask,completed:t.completed,rgb:e.rgb,id:t.id,name:t.name},t.id)}))]})})]})]})}var B=Object(i.o)((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(),s=Object(l.a)(r,2),i=s[0],j=s[1],h=function(e){return j(e)};Object(a.useEffect)((function(){u()}),[]),Object(a.useEffect)((function(){u()}),[e.removedTaskId]),Object(a.useEffect)((function(){u()}),[e.newTaskId]),Object(a.useEffect)((function(){u()}),[e.newGoalId]),Object(a.useEffect)((function(){u()}),[i]);var u=function(){fetch("https://wilson-rails.herokuapp.com/goals",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){if(t.error)e.history.push("/login");else{var n=[];t.forEach((function(e){e.completed||n.push(e)})),c(n)}}))};return Object(p.jsxs)(g.a,{fluid:!0,className:"main",children:[0===o.length?Object(p.jsxs)(x.a,{id:"main-title-container",children:[Object(p.jsx)("h1",{children:"Click "}),Object(p.jsx)(d.a,{variant:"secondary",id:"main-title-button",onClick:e.handleGoalModalShow,children:"New Goal"}),Object(p.jsx)("h1",{children:"to create a Goal!"})]}):Object(p.jsx)(x.a,{id:"main-title-container",children:Object(p.jsx)("h1",{children:1===o.length?o.length+" Goal Remaining!":o.length+" Goals Remaining"})}),Object(p.jsx)(f.a,{children:Object(p.jsxs)(x.a,{children:[Object(p.jsx)("hr",{style:{borderTop:"3px solid white"}}),Object(p.jsx)(k.a,{children:function(){if(o.length>0)return o.map((function(t){return Object(p.jsx)(U,{getRemovedTaskId:e.getRemovedTaskId,description:t.description,handleNewTaskId:e.handleNewTaskId,due_date:t.due_date,getCompletedGoalId:h,handleCompleteModalShow:e.handleCompleteModalShow,completeTask:e.completeTask,handleClickedGoalId:e.handleClickedGoalId,tasks:t.tasks,handleTaskModalShow:e.handleTaskModalShow,rgb:t.rgb,id:t.id,handleGoalClick:e.handleGoalClick,date:t.date,name:t.name},t.id)}))}()})]})})]})}));function L(e){return Object(p.jsxs)(T.a,{show:e.show,onHide:e.handleErrorClose,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Error:"})}),Object(p.jsx)(T.a.Body,{children:e.errors}),Object(p.jsx)(T.a.Footer,{children:Object(p.jsx)(d.a,{variant:"secondary",onClick:e.handleErrorClose,children:"Close"})})]})}var H=Object(i.o)((function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],h=Object(a.useState)(""),u=Object(l.a)(h,2),b=u[0],O=u[1],m=Object(a.useState)(""),k=Object(l.a)(m,2),C=k[0],v=k[1],w=Object(a.useState)(!1),T=Object(l.a)(w,2),S=T[0],I=T[1],G=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(p.jsxs)("div",{children:[Object(p.jsx)(L,{show:S,handleErrorClose:function(){return I(!1)},errors:C}),Object(p.jsx)(g.a,{style:{backgroundColor:"#333",color:"white",padding:"3%"},children:Object(p.jsx)(f.a,{children:Object(p.jsx)(x.a,{children:Object(p.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:i})}).then((function(e){return e.json()})).then((function(t){t.message?e.history.push("/login"):(v(G(t.exception)),I(!0))}))},children:[Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Create Username:"}),Object(p.jsx)(y.a.Control,{type:"text",placeholder:"Enter username",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Password:"}),Object(p.jsx)(y.a.Control,{type:"password",placeholder:"Password",value:i,onChange:function(e){return j(e.target.value)}})]}),Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Re-enter password:"}),Object(p.jsx)(y.a.Control,{type:"password",placeholder:"Re-enter password",value:b,onChange:function(e){return O(e.target.value)}})]}),Object(p.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})]})})),M=n(90),P=n(91);function A(e){return Object(p.jsx)("div",{children:Object(p.jsxs)(g.a,{style:{backgroundColor:"#333",color:"white",padding:"3%"},children:[Object(p.jsxs)(f.a,{style:{marginBottom:"3%"},children:[Object(p.jsx)(x.a,{sm:4,style:{textAlign:"center"},children:Object(p.jsx)(M.a,{style:{height:"200px",width:"200px"},src:"wilson.png",rounded:!0})}),Object(p.jsxs)(x.a,{sm:8,style:{margin:"auto 0"},children:[Object(p.jsxs)("h1",{children:["Welcome to ",Object(p.jsx)("span",{style:{color:"rgb(214, 17, 18)"},children:"Wilson"})]}),Object(p.jsx)("h5",{children:"A simple app to keep track of your goals"})]})]}),Object(p.jsx)(f.a,{children:Object(p.jsx)(x.a,{id:"login-container",children:Object(p.jsxs)(y.a,{onSubmit:e.handleSubmit,id:"login-form",children:[Object(p.jsxs)(y.a.Group,{controlId:"username",children:[Object(p.jsx)(y.a.Label,{children:"Username:"}),Object(p.jsx)(y.a.Control,{type:"username",placeholder:"Enter username",name:"username",value:e.username,onChange:e.handleUsernameChange})]}),Object(p.jsxs)(y.a.Group,{controlId:"formBasicPassword",children:[Object(p.jsx)(y.a.Label,{children:"Password"}),Object(p.jsx)(y.a.Control,{type:"password",placeholder:"Password",name:"password",value:e.password,onChange:e.handlePasswordChange})]}),Object(p.jsxs)("div",{className:"button-link-container",children:[e.loggingIn?Object(p.jsxs)(d.a,{variant:"primary",disabled:!0,children:[Object(p.jsx)(P.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," Loading..."]}):Object(p.jsx)(d.a,{id:"login-button",variant:"primary",type:"submit",children:"Login"}),Object(p.jsxs)(y.a.Text,{className:"text-muted",children:["Not registered? ",Object(p.jsx)(r.Link,{to:"/signup",children:"Create an account"})]})]})]})})})]})})}var z=n(92);function R(e){return Object(p.jsx)(k.a.Item,{className:"task",style:{backgroundColor:e.rgb},children:Object(p.jsx)("div",{className:"task-body-complete",children:e.name})})}function _(e){return Object(p.jsx)("div",{style:{padding:"0px",display:"inline-block"},children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(C.a.Toggle,{style:{backgroundColor:e.rgb},className:"goal-listgroup",eventKey:e.id,as:k.a.Item,children:Object(p.jsxs)("div",{className:"goal",children:[Object(p.jsx)("div",{className:"goal-name",children:e.name}),Object(p.jsxs)("div",{className:"goal-due",children:["Completed on: ",function(e){var t=new Date(e);return t.getMonth()+1+"/"+(t.getDate()+1)+"/"+t.getFullYear()}(e.completedDate)]})]})}),Object(p.jsx)(C.a.Collapse,{eventKey:e.id,children:Object(p.jsxs)(w.a.Body,{onClick:function(){return e.handleClickedGoalId(e.id)},children:[Object(p.jsx)(O.LinkContainer,{to:"goal-showpage",children:Object(p.jsx)(d.a,{variant:"danger",children:"Show"})}),e.tasks.map((function(t){return Object(p.jsx)(R,{name:t.name,rgb:e.rgb},t.id)}))]})})]})})}var F=Object(i.o)((function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],j=function(e){return d(e)};Object(a.useEffect)((function(){""!==i&&e.history.push("/")}),[i]),Object(a.useEffect)((function(){h()}),[e.newTaskId]);var h=function(){fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.clickedGoalid),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(e){c(e)}))};return Object(p.jsxs)(g.a,{fluid:!0,style:{backgroundColor:"#333",padding:"50px"},children:[Object(p.jsx)(f.a,{children:Object(p.jsx)(x.a,{children:Object(p.jsxs)(z.a,{style:{border:"solid ".concat(o.rgb," 4px")},children:[Object(p.jsx)("h1",{children:o.name}),Object(p.jsx)("p",{children:o.description})]})})}),Object(p.jsx)(f.a,{children:Object(p.jsx)(x.a,{children:Object(p.jsx)(k.a,{children:o?o.completed?Object(p.jsx)(_,{completedDate:o.completed_date,handleClickedGoalId:e.handleClickedGoalId,tasks:o.tasks,name:o.name,id:o.id,rgb:o.rgb},o.id):Object(p.jsx)(U,{getCompletedGoalId:j,completeTask:e.completeTask,handleClickedGoalId:e.handleClickedGoalId,id:o.id,tasks:o.tasks,rgb:o.rgb,name:o.name,handleTaskModalShow:e.handleTaskModalShow}):null})})})]})}));function J(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],h=Object(a.useState)(""),u=Object(l.a)(h,2),b=u[0],O=u[1],m=Object(a.useState)(""),x=Object(l.a)(m,2),g=x[0],f=x[1],k=Object(a.useState)("red"),C=Object(l.a)(k,2),v=C[0],w=C[1],S=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(p.jsxs)(T.a,{show:e.show,onHide:e.onHide,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"New Goal"})}),Object(p.jsx)(T.a.Body,{children:Object(p.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/goals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,description:i,due_date:b,rgb:v})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?f(S(t.exception)):(e.handleNewGoalId(t.id),c(""),j(""),O(""),f(""),e.onHide())}))},children:[Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Goal Name:"}),Object(p.jsx)(y.a.Control,{type:"text",placeholder:"Goal Name",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Goal Description"}),Object(p.jsx)(y.a.Control,{as:"textarea",rows:5,value:i,onChange:function(e){return j(e.target.value)}})]}),Object(p.jsxs)(y.a.Group,{children:[Object(p.jsx)(y.a.Label,{children:"Complete Goal By: "}),Object(p.jsx)(y.a.Control,{type:"date",onChange:function(e){return O(e.target.value)},value:b})]}),Object(p.jsxs)(y.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(p.jsx)(y.a.Label,{children:"Color"}),Object(p.jsxs)(y.a.Control,{as:"select",onChange:function(e){return w(e.target.value.toLowerCase())},children:[Object(p.jsx)("option",{children:"Red"}),Object(p.jsx)("option",{children:"Orange"}),Object(p.jsx)("option",{children:"Yellow"}),Object(p.jsx)("option",{children:"Green"}),Object(p.jsx)("option",{children:"Blue"}),Object(p.jsx)("option",{children:"Purple"}),Object(p.jsx)("option",{children:"Pink"}),Object(p.jsx)("option",{children:"White"}),Object(p.jsx)("option",{children:"Black"})]})]}),Object(p.jsxs)("div",{className:"button-error-container",children:[Object(p.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"}),Object(p.jsx)("div",{className:"error",children:g})]})]})})]})}var W=Object(i.o)((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){fetch("https://wilson-rails.herokuapp.com/goals",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){if(t.error)e.history.push("/login");else{var n=[];t.forEach((function(e){e.completed&&n.push(e)})),c(n)}}))};return Object(p.jsx)(g.a,{fluid:!0,style:{backgroundColor:"#333",color:"white",padding:"3%",minHeight:"80vh",width:"100%"},children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(x.a,{children:[Object(p.jsx)("hr",{style:{borderTop:"3px solid white"}}),Object(p.jsx)(k.a,{children:function(){if(o.length>0)return o.map((function(t){return Object(p.jsx)(_,{completedDate:t.completed_date,handleClickedGoalId:e.handleClickedGoalId,tasks:t.tasks,name:t.name,id:t.id,rgb:t.rgb},t.id)}))}()})]})})})}));function K(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],h=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(p.jsxs)(T.a,{show:e.show,onHide:e.onHide,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"New Task"})}),Object(p.jsx)(T.a.Body,{children:Object(p.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/tasks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,goal_id:e.clickedGoalid})}).then((function(e){return e.json()})).then((function(t){t.error?j(h(t.exception)):(e.handleNewTaskId(t.id),c(""),j(""),e.onHide())}))},children:[Object(p.jsxs)(y.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(y.a.Label,{children:"Task:"}),Object(p.jsx)(y.a.Control,{type:"text",placeholder:"Enter Task",name:"task",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(p.jsxs)("div",{className:"button-error-container",children:[Object(p.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"}),Object(p.jsx)("div",{className:"error",children:i})]})]})})]})}var Y=Object(i.o)((function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),d=Object(l.a)(r,2),j=d[0],h=d[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),O=b[0],x=b[1],g=Object(a.useState)(null),f=Object(l.a)(g,2),k=f[0],C=f[1],v=Object(a.useState)(null),w=Object(l.a)(v,2),y=w[0],T=w[1],S=Object(a.useState)(""),I=Object(l.a)(S,2),G=I[0],N=I[1],E=Object(a.useState)(!1),D=Object(l.a)(E,2),U=D[0],M=D[1],P=Object(a.useState)(!1),z=Object(l.a)(P,2),R=z[0],_=z[1],Y=Object(a.useState)(!1),q=Object(l.a)(Y,2),Q=q[0],V=q[1],X=Object(a.useState)(""),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(l.a)(te,2),ae=ne[0],oe=ne[1],ce=Object(a.useState)(0),re=Object(l.a)(ce,2),se=re[0],le=re[1],ie=function(e){return le(e)},de=function(){return _(!0)},je=function(){return M(!0)},he=function(e){return c(e.target.value)},ue=function(e){return h(e.target.value)},be=function(e){return N(e)},Oe=function(e){return ee(e)};Object(a.useEffect)((function(){localStorage.getItem("wilsonUserToken").length>0?e.history.push("/"):e.history.push("/login")}),[]);var pe=function(e){e.preventDefault(),xe()},me=function(t){t.token?(localStorage.setItem("wilsonUserToken",t.token),T(t.id),x(""),e.history.push("/")):(localStorage.setItem("wilsonUserToken",""),x(t.message),V(!0))},xe=function(){fetch("https://wilson-rails.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:j})}).then((function(e){return e.json()})).then((function(e){me(e)})).catch((function(e){return x(e)})),c(""),h("")};Object(a.useEffect)((function(){fetch("https://wilson-rails.herokuapp.com/user",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(e){return C(e.username)}))}),[y]);var ge=function(e){fetch("https://wilson-rails.herokuapp.com/complete-task/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}})};return Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{handleGoalModalShow:je,logoutUser:function(){C(null),localStorage.setItem("wilsonUserToken",""),e.history.push("/login")},loggedinUser:k}),Object(p.jsx)(i.d,{exact:!0,path:"/login",render:function(e){return Object(p.jsx)(A,Object(s.a)({handleSubmit:pe,username:o,password:j,handleUsernameChange:he,handlePasswordChange:ue,loggedinUser:k},e))}}),Object(p.jsx)(i.d,{exact:!0,path:"/signup",render:function(){return Object(p.jsx)(H,{})}}),Object(p.jsx)(L,{show:Q,handleErrorClose:function(){return V(!1)},errors:O}),Object(p.jsx)(K,{handleNewTaskId:Oe,show:R,onHide:function(){return _(!1)},goalId:e.id,clickedGoalid:G}),Object(p.jsx)(J,{handleNewGoalId:function(e){return oe(e)},onHide:function(){return M(!1)},show:U,loggedinUser:k}),Object(p.jsx)(i.d,{exact:!0,path:"/wilson-2.0/",render:function(){return Object(p.jsx)(B,{removedTaskId:se,getRemovedTaskId:ie,handleNewTaskId:Oe,newGoalId:ae,newTaskId:$,completeTask:ge,handleClickedGoalId:be,handleTaskModalShow:de,handleGoalModalShow:je})}}),Object(p.jsx)(i.d,{exact:!0,path:"/goal-showpage",render:function(){return Object(p.jsx)(F,{completeTask:ge,newTaskId:$,handleClickedGoalId:be,handleTaskModalShow:de,clickedGoalid:G})}}),Object(p.jsx)(i.d,{exact:!0,path:"/completed",render:function(){return Object(p.jsx)(W,{handleClickedGoalId:be,loggedinUser:e.loggedinUser,handleGoalClick:e.handleGoalClick})}})]})})),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,101)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};c.a.render(Object(p.jsx)(r.BrowserRouter,{children:Object(p.jsx)(Y,{})}),document.getElementById("root")),q()}},[[82,1,2]]]);
//# sourceMappingURL=main.6c38bf8a.chunk.js.map