(this["webpackJsonpwilson-2.0"]=this["webpackJsonpwilson-2.0"]||[]).push([[0],{66:function(e,t,n){},67:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(23),c=n.n(o),r=n(20),s=(n(66),n(61)),l=n(7),i=(n(67),n(11)),d=n(82),j=n(88),h=n(59),b=n(91),u=n(26),O=n(1);function p(e){return Object(O.jsxs)(b.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(O.jsxs)(b.a.Brand,{children:[Object(O.jsx)("img",{alt:"",src:"wilson.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","Wilson"]}),Object(O.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(b.a.Collapse,{id:"basic-navbar-nav",children:[Object(O.jsx)(d.a,{className:"mr-auto",children:e.loggedinUser&&Object(O.jsx)(u.LinkContainer,{to:"/completed",children:Object(O.jsx)(d.a.Link,{children:"Completed"})})}),Object(O.jsx)(d.a,{children:e.loggedinUser?Object(O.jsxs)(d.a,{className:"justify-content-end",children:[Object(O.jsxs)(j.a,{id:"signed-in-dropdown",title:e.loggedinUser,children:[Object(O.jsx)(u.LinkContainer,{to:"/",children:Object(O.jsx)(j.a.Item,{children:"Home"})}),Object(O.jsx)(u.LinkContainer,{to:"/completed",children:Object(O.jsx)(j.a.Item,{children:"Completed Goals"})}),Object(O.jsx)(j.a.Divider,{}),Object(O.jsx)(j.a.Item,{onClick:e.logoutUser,children:"Logout"})]}),Object(O.jsx)(h.a,{variant:"secondary",onClick:e.handleGoalModalShow,children:"New Goal"})]}):Object(O.jsx)(u.LinkContainer,{to:"/login",children:Object(O.jsx)(h.a,{variant:"secondary",children:"Please Login"})})})]})]})}var x=n(60),m=n(83),g=n(84),f=n(93),k=n(92),C=n(94),v=n(95),w=n(90),y=n(89);function T(e){return Object(O.jsxs)(y.a,{show:e.show,onHide:e.handleDeleteModalClose,children:[Object(O.jsx)(y.a.Header,{closeButton:!0,children:Object(O.jsx)(y.a.Title,{children:"Delete"})}),Object(O.jsxs)(y.a.Body,{children:['Delete "',e.name,'" Task?']}),Object(O.jsxs)(y.a.Footer,{children:[Object(O.jsx)(h.a,{variant:"danger",onClick:function(){fetch("https://wilson-rails.herokuapp.com/tasks/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){e.getRemovedTaskId(t.id),e.handleDeleteModalClose()}))},children:"Confirm"}),Object(O.jsx)(h.a,{variant:"secondary",onClick:e.handleDeleteModalClose,children:"Close"})]})]})}function S(e){var t=Object(a.useState)(e.name),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(0),b=Object(l.a)(j,2),u=b[0],p=b[1];Object(a.useEffect)((function(){c(e.name)}),[e.name]);var x=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(O.jsxs)(y.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(y.a.Header,{closeButton:!0,children:Object(O.jsx)(y.a.Title,{children:"Edit Task"})}),Object(O.jsx)(y.a.Body,{children:Object(O.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),p(u+1),fetch("https://wilson-rails.herokuapp.com/tasks/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o})}).then((function(e){return e.json()})).then((function(t){t.error?d(x(t.exception)):(e.handleNewTaskId(u),d(""),e.onHide())}))},children:[Object(O.jsxs)(w.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(w.a.Label,{children:"Task:"}),Object(O.jsx)(w.a.Control,{type:"text",placeholder:"Enter Task",name:"task",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)("div",{className:"button-error-container",children:[Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"}),Object(O.jsx)("div",{className:"error",children:i})]})]})})]})}function I(e){var t=Object(a.useState)(e.completed),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=(s[0],s[1],Object(a.useState)(!1)),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(a.useState)(!1),p=Object(l.a)(u,2),x=p[0],m=p[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)(S,{handleNewTaskId:e.handleNewTaskId,id:e.id,onHide:function(){return m(!1)},name:e.name,show:x}),Object(O.jsx)(T,{getRemovedTaskId:e.getRemovedTaskId,handleNewTaskId:e.handleNewTaskId,id:e.id,handleDeleteModalClose:function(){return b(!1)},name:e.name,show:j}),Object(O.jsx)(f.a.Item,{className:"task",style:{textDecoration:o?"line-through":"",backgroundColor:e.rgb},children:Object(O.jsxs)("div",{className:"task-body",children:[Object(O.jsxs)("div",{className:"task-content",children:[Object(O.jsx)(w.a.Check,{custom:!0,onClick:function(){return t=e.id,e.completeTask(t),c(!o),void(!0===o?e.handleProgressBarChange(-1):e.handleProgressBarChange(1));var t},defaultChecked:e.completed,id:e.id,className:"check"}),e.name]}),Object(O.jsxs)("div",{className:"task-buttons",children:[Object(O.jsx)(h.a,{className:"edit-task-button",variant:"secondary",size:"sm",onClick:function(){return m(!0)},children:"Edit"}),Object(O.jsx)(h.a,{className:"delete-task-button",variant:"danger",size:"sm",onClick:function(){return b(!0)},children:"Remove"})]})]})})]})}function G(e){return Object(O.jsxs)(y.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(y.a.Header,{closeButton:!0,children:Object(O.jsx)(y.a.Title,{children:"Congrats!! You Completed the SOMEGOAL"})}),Object(O.jsx)(y.a.Body,{children:"Would you like to mark this goal as complete?"}),Object(O.jsx)(y.a.Footer,{children:Object(O.jsx)(h.a,{variant:"primary",onClick:function(){return e.completeGoal(e.id)},block:!0,children:"Complete"})})]})}function N(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),o=n[0],c=n[1];return Object(O.jsxs)(y.a,{show:e.show,onHide:e.handleDeleteModalClose,children:[Object(O.jsx)(y.a.Header,{closeButton:!0,children:Object(O.jsx)(y.a.Title,{children:"Delete"})}),Object(O.jsx)(y.a.Body,{children:'Delete "'.concat(e.name,'" Goal?')}),Object(O.jsxs)(y.a.Footer,{children:[o?Object(O.jsx)("div",{className:"error",children:"Please delete all Tasks associated with this Goal to confirm."}):Object(O.jsx)(h.a,{variant:"danger",onClick:function(){fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){e.getCompletedGoalId(t.id),e.handleDeleteModalClose()})).catch((function(e){console.log(e),c(!0)}))},children:"Confirm"}),Object(O.jsx)(h.a,{variant:"secondary",onClick:function(){e.handleDeleteModalClose(),c(!1)},children:"Close"})]})]})}function E(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),u=b[0],p=b[1],x=Object(a.useState)(""),m=Object(l.a)(x,2),g=m[0],f=m[1],k=Object(a.useState)("red"),C=Object(l.a)(k,2),v=C[0],T=C[1],S=Object(a.useState)(0),I=Object(l.a)(S,2),G=I[0],N=I[1];Object(a.useEffect)((function(){c(e.name),d(e.description),p(e.due_date),T(e.color)}),[e.name,e.description,e.due_date,e.color]);var E=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(O.jsxs)(y.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(y.a.Header,{closeButton:!0,children:Object(O.jsx)(y.a.Title,{children:"Edit Goal"})}),Object(O.jsx)(y.a.Body,{children:Object(O.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),N(G+1),fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,description:i,due_date:u,rgb:v})}).then((function(e){return e.json()})).then((function(t){t.error?f(E(t.exception)):(e.getCompletedGoalId(G),console.log(t),f(""),e.onHide())}))},children:[Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Goal Name:"}),Object(O.jsx)(w.a.Control,{type:"text",placeholder:"Goal Name",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Goal Description"}),Object(O.jsx)(w.a.Control,{as:"textarea",rows:5,value:i,onChange:function(e){return d(e.target.value)}})]}),Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Complete Goal By: "}),Object(O.jsx)(w.a.Control,{type:"date",onChange:function(e){return p(e.target.value)},value:u})]}),Object(O.jsxs)(w.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(O.jsx)(w.a.Label,{children:"Color"}),Object(O.jsxs)(w.a.Control,{as:"select",onChange:function(e){return T(e.target.value)},value:v,children:[Object(O.jsx)("option",{children:"red"}),Object(O.jsx)("option",{children:"orange"}),Object(O.jsx)("option",{children:"yellow"}),Object(O.jsx)("option",{children:"green"}),Object(O.jsx)("option",{children:"blue"}),Object(O.jsx)("option",{children:"purple"}),Object(O.jsx)("option",{children:"pink"}),Object(O.jsx)("option",{children:"white"}),Object(O.jsx)("option",{children:"black"})]})]}),Object(O.jsxs)("div",{className:"button-error-container",children:[Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"}),Object(O.jsx)("div",{className:"error",children:g})]})]})})]})}function D(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],j=s[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),m=x[0],g=x[1],w=Object(a.useState)(!1),y=Object(l.a)(w,2),T=y[0],S=y[1],D=function(){return j(!1)},L=function(){return S(!0)},U=function(){return S(!1)};Object(a.useEffect)((function(){var t=0;e.tasks.forEach((function(e){e.completed&&t++})),c(t)}),[]);var B=function(e){c(o+e)},H=function(){return 100*(o/e.tasks.length)},M=function(){100===H()&&j(!0)};Object(a.useEffect)((function(){H(),M()}),[o]);return Object(O.jsxs)("div",{children:[Object(O.jsx)(E,{getCompletedGoalId:e.getCompletedGoalId,id:e.id,due_date:e.due_date,name:e.name,date:e.date,description:e.description,color:e.rgb,handleEditModalClose:U,onHide:U,handleEditModalShow:L,show:T}),Object(O.jsx)(N,{getCompletedGoalId:e.getCompletedGoalId,id:e.id,handleDeleteModalClose:function(){return g(!1)},name:e.name,show:m}),Object(O.jsx)(G,{id:e.id,completeGoal:function(t){fetch("https://wilson-rails.herokuapp.com/complete-goal/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){t.completed&&(D(),e.getCompletedGoalId(t.id))}))},show:i,onHide:D}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(k.a.Toggle,{className:"goal-listgroup",style:{backgroundColor:e.rgb},eventKey:e.id,as:f.a.Item,children:Object(O.jsxs)("div",{className:"goal",children:[Object(O.jsx)("div",{className:"goal-name",children:e.name}),Object(O.jsx)(C.a,{style:{backgroundColor:"white",color:e.rgb},now:H()}),Object(O.jsx)("div",{className:"goal-due",children:e.due_date&&Object(O.jsxs)("small",{children:["Due in ",Math.ceil(function(e){var t=new Date;return(new Date(e)-t)/1e3/60/60/24}(e.due_date)+1)," days"]})})]})}),Object(O.jsx)(k.a.Collapse,{eventKey:e.id,children:Object(O.jsxs)(v.a.Body,{className:"goal-body",onClick:function(){return e.handleClickedGoalId(e.id)},children:[Object(O.jsxs)(b.a,{expand:"md",className:"justify-content-center",children:[Object(O.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(b.a.Collapse,{id:"basic-navbar-nav",className:"goal-navbar",children:[Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(u.LinkContainer,{to:"goal-showpage",children:Object(O.jsx)(h.a,{variant:"success",children:"Show"})})}),Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(h.a,{variant:"primary",onClick:e.handleTaskModalShow,children:"Add Task"})}),Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(h.a,{variant:"secondary",onClick:L,children:"Edit"})}),Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(h.a,{variant:"danger",onClick:function(){return g(!0)},children:"Delete"})})]})]}),e.tasks.map((function(t){return Object(O.jsx)(I,{getRemovedTaskId:e.getRemovedTaskId,handleNewTaskId:e.handleNewTaskId,handleProgressBarChange:B,completeTask:e.completeTask,completed:t.completed,rgb:e.rgb,id:t.id,name:t.name},t.id)}))]})})]})]})}var L=Object(i.o)((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),u=b[0],p=b[1],k=function(e){return d(e)};Object(a.useEffect)((function(){C()}),[]),Object(a.useEffect)((function(){C()}),[e.removedTaskId]),Object(a.useEffect)((function(){C()}),[e.newTaskId]),Object(a.useEffect)((function(){C()}),[e.newGoalId]),Object(a.useEffect)((function(){C()}),[i]);var C=function(){fetch("https://wilson-rails.herokuapp.com/goals",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){if(t.error)e.history.push("/login"),p(!1);else{var n=[];t.forEach((function(e){e.completed||n.push(e)})),p(!1),c(n)}})),p(!0)};return Object(O.jsxs)(m.a,{fluid:!0,className:"main",children:[u?Object(O.jsx)(x.a,{id:"main-title-container",children:Object(O.jsx)("h1",{children:"Loading..."})}):0===o.length?Object(O.jsxs)(x.a,{id:"main-title-container",children:[Object(O.jsx)("h1",{children:"Click "}),Object(O.jsx)(h.a,{variant:"secondary",id:"main-title-button",onClick:e.handleGoalModalShow,children:"New Goal"}),Object(O.jsx)("h1",{children:"to create a Goal!"})]}):Object(O.jsx)(x.a,{id:"main-title-container",children:Object(O.jsx)("h1",{children:1===o.length?o.length+" Goal Remaining!":o.length+" Goals Remaining"})}),Object(O.jsx)(g.a,{children:Object(O.jsxs)(x.a,{children:[Object(O.jsx)("hr",{style:{borderTop:"3px solid white"}}),Object(O.jsx)(f.a,{children:function(){if(o.length>0)return o.map((function(t){return Object(O.jsx)(D,{getRemovedTaskId:e.getRemovedTaskId,description:t.description,handleNewTaskId:e.handleNewTaskId,due_date:t.due_date,getCompletedGoalId:k,handleCompleteModalShow:e.handleCompleteModalShow,completeTask:e.completeTask,handleClickedGoalId:e.handleClickedGoalId,tasks:t.tasks,handleTaskModalShow:e.handleTaskModalShow,rgb:t.rgb,id:t.id,handleGoalClick:e.handleGoalClick,date:t.date,name:t.name},t.id)}))}()})]})})]})}));function U(e){return Object(O.jsxs)(y.a,{show:e.show,onHide:e.handleErrorClose,children:[Object(O.jsx)(y.a.Header,{closeButton:!0,children:Object(O.jsx)(y.a.Title,{children:"Error:"})}),Object(O.jsx)(y.a.Body,{children:e.errors}),Object(O.jsx)(y.a.Footer,{children:Object(O.jsx)(h.a,{variant:"secondary",onClick:e.handleErrorClose,children:"Close"})})]})}var B=Object(i.o)((function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),u=b[0],p=b[1],f=Object(a.useState)(""),k=Object(l.a)(f,2),C=k[0],v=k[1],y=Object(a.useState)(!1),T=Object(l.a)(y,2),S=T[0],I=T[1],G=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(U,{show:S,handleErrorClose:function(){return I(!1)},errors:C}),Object(O.jsx)(m.a,{style:{backgroundColor:"#333",color:"white",padding:"3%"},children:Object(O.jsx)(g.a,{children:Object(O.jsx)(x.a,{children:Object(O.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:i})}).then((function(e){return e.json()})).then((function(t){t.message?e.history.push("/login"):(v(G(t.exception)),I(!0))}))},children:[Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Create Username:"}),Object(O.jsx)(w.a.Control,{type:"text",placeholder:"Enter username",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Password:"}),Object(O.jsx)(w.a.Control,{type:"password",placeholder:"Password",value:i,onChange:function(e){return d(e.target.value)}})]}),Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Re-enter password:"}),Object(O.jsx)(w.a.Control,{type:"password",placeholder:"Re-enter password",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Sign Up"})]})})})})]})})),H=n(85),M=n(86);function P(e){return Object(O.jsx)("div",{children:Object(O.jsxs)(m.a,{style:{backgroundColor:"#333",color:"white",padding:"3%"},children:[Object(O.jsxs)(g.a,{style:{marginBottom:"3%"},children:[Object(O.jsx)(x.a,{sm:4,style:{textAlign:"center"},children:Object(O.jsx)(H.a,{style:{height:"200px",width:"200px"},src:"wilson.png",rounded:!0})}),Object(O.jsxs)(x.a,{sm:8,style:{margin:"auto 0"},children:[Object(O.jsxs)("h1",{children:["Welcome to ",Object(O.jsx)("span",{style:{color:"rgb(214, 17, 18)"},children:"Wilson"})]}),Object(O.jsx)("h5",{children:"A simple app to keep track of your goals"})]})]}),Object(O.jsx)(g.a,{children:Object(O.jsx)(x.a,{id:"login-container",children:Object(O.jsxs)(w.a,{onSubmit:e.handleSubmit,id:"login-form",children:[Object(O.jsxs)(w.a.Group,{controlId:"username",children:[Object(O.jsx)(w.a.Label,{children:"Username:"}),Object(O.jsx)(w.a.Control,{type:"username",placeholder:"Enter username",name:"username",value:e.username,onChange:e.handleUsernameChange})]}),Object(O.jsxs)(w.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(w.a.Label,{children:"Password"}),Object(O.jsx)(w.a.Control,{type:"password",placeholder:"Password",name:"password",value:e.password,onChange:e.handlePasswordChange})]}),Object(O.jsxs)("div",{className:"button-link-container",children:[e.loggingIn?Object(O.jsxs)(h.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(M.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," Loading..."]}):Object(O.jsx)(h.a,{id:"login-button",variant:"primary",type:"submit",children:"Login"}),Object(O.jsxs)(w.a.Text,{className:"text-muted",children:["Not registered? ",Object(O.jsx)(r.Link,{to:"/signup",children:"Create an account"})]})]})]})})})]})})}var A=n(87);function z(e){return Object(O.jsx)(f.a.Item,{className:"task",style:{backgroundColor:e.rgb},children:Object(O.jsx)("div",{className:"task-body-complete",children:e.name})})}function R(e){return Object(O.jsx)("div",{style:{padding:"0px",display:"inline-block"},children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)(k.a.Toggle,{style:{backgroundColor:e.rgb},className:"goal-listgroup",eventKey:e.id,as:f.a.Item,children:Object(O.jsxs)("div",{className:"goal",children:[Object(O.jsx)("div",{className:"goal-name",children:e.name}),Object(O.jsxs)("div",{className:"goal-due",children:["Completed on: ",function(e){var t=new Date(e);return t.getMonth()+1+"/"+(t.getDate()+1)+"/"+t.getFullYear()}(e.completedDate)]})]})}),Object(O.jsx)(k.a.Collapse,{eventKey:e.id,children:Object(O.jsxs)(v.a.Body,{onClick:function(){return e.handleClickedGoalId(e.id)},children:[Object(O.jsx)(u.LinkContainer,{to:"goal-showpage",children:Object(O.jsx)(h.a,{variant:"danger",children:"Show"})}),e.tasks.map((function(t){return Object(O.jsx)(z,{name:t.name,rgb:e.rgb},t.id)}))]})})]})})}var _=Object(i.o)((function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],j=function(e){return d(e)};Object(a.useEffect)((function(){""!==i&&e.history.push("/")}),[i]),Object(a.useEffect)((function(){h()}),[e.newTaskId]);var h=function(){fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.clickedGoalid),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(e){c(e)}))};return Object(O.jsxs)(m.a,{fluid:!0,style:{backgroundColor:"#333",padding:"50px"},children:[Object(O.jsx)(g.a,{children:Object(O.jsx)(x.a,{children:Object(O.jsxs)(A.a,{style:{border:"solid ".concat(o.rgb," 4px")},children:[Object(O.jsx)("h1",{children:o.name}),Object(O.jsx)("p",{children:o.description})]})})}),Object(O.jsx)(g.a,{children:Object(O.jsx)(x.a,{children:Object(O.jsx)(f.a,{children:o?o.completed?Object(O.jsx)(R,{completedDate:o.completed_date,handleClickedGoalId:e.handleClickedGoalId,tasks:o.tasks,name:o.name,id:o.id,rgb:o.rgb},o.id):Object(O.jsx)(D,{getCompletedGoalId:j,completeTask:e.completeTask,handleClickedGoalId:e.handleClickedGoalId,id:o.id,tasks:o.tasks,rgb:o.rgb,name:o.name,handleTaskModalShow:e.handleTaskModalShow}):null})})})]})}));function F(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),u=b[0],p=b[1],x=Object(a.useState)(""),m=Object(l.a)(x,2),g=m[0],f=m[1],k=Object(a.useState)("red"),C=Object(l.a)(k,2),v=C[0],T=C[1],S=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(O.jsxs)(y.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(y.a.Header,{closeButton:!0,children:Object(O.jsx)(y.a.Title,{children:"New Goal"})}),Object(O.jsx)(y.a.Body,{children:Object(O.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/goals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,description:i,due_date:u,rgb:v})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?f(S(t.exception)):(e.handleNewGoalId(t.id),c(""),d(""),p(""),f(""),e.onHide())}))},children:[Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Goal Name:"}),Object(O.jsx)(w.a.Control,{type:"text",placeholder:"Goal Name",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Goal Description"}),Object(O.jsx)(w.a.Control,{as:"textarea",rows:5,value:i,onChange:function(e){return d(e.target.value)}})]}),Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Complete Goal By: "}),Object(O.jsx)(w.a.Control,{type:"date",onChange:function(e){return p(e.target.value)},value:u})]}),Object(O.jsxs)(w.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(O.jsx)(w.a.Label,{children:"Color"}),Object(O.jsxs)(w.a.Control,{as:"select",onChange:function(e){return T(e.target.value.toLowerCase())},children:[Object(O.jsx)("option",{children:"Red"}),Object(O.jsx)("option",{children:"Orange"}),Object(O.jsx)("option",{children:"Yellow"}),Object(O.jsx)("option",{children:"Green"}),Object(O.jsx)("option",{children:"Blue"}),Object(O.jsx)("option",{children:"Purple"}),Object(O.jsx)("option",{children:"Pink"}),Object(O.jsx)("option",{children:"White"}),Object(O.jsx)("option",{children:"Black"})]})]}),Object(O.jsxs)("div",{className:"button-error-container",children:[Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"}),Object(O.jsx)("div",{className:"error",children:g})]})]})})]})}var J=Object(i.o)((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){fetch("https://wilson-rails.herokuapp.com/goals",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){if(t.error)e.history.push("/login");else{var n=[];t.forEach((function(e){e.completed&&n.push(e)})),c(n)}}))};return Object(O.jsxs)(m.a,{fluid:!0,style:{backgroundColor:"#333",color:"white",padding:"3%",minHeight:"80vh",width:"100%"},children:[Object(O.jsx)(x.a,{id:"completed-title-container",children:Object(O.jsx)("h1",{children:"Completed"})}),Object(O.jsx)(g.a,{children:Object(O.jsxs)(x.a,{children:[Object(O.jsx)("hr",{style:{borderTop:"3px solid white"}}),Object(O.jsx)(f.a,{children:function(){if(o.length>0)return o.map((function(t){return Object(O.jsx)(R,{completedDate:t.completed_date,handleClickedGoalId:e.handleClickedGoalId,tasks:t.tasks,name:t.name,id:t.id,rgb:t.rgb},t.id)}))}()})]})})]})}));function W(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],j=function(e){var t=e.split(":");return t[t.length-1].trim().slice(0,-1)};return Object(O.jsxs)(y.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(y.a.Header,{closeButton:!0,children:Object(O.jsx)(y.a.Title,{children:"New Task"})}),Object(O.jsx)(y.a.Body,{children:Object(O.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/tasks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,goal_id:e.clickedGoalid})}).then((function(e){return e.json()})).then((function(t){t.error?d(j(t.exception)):(e.handleNewTaskId(t.id),c(""),d(""),e.onHide())}))},children:[Object(O.jsxs)(w.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(w.a.Label,{children:"Task:"}),Object(O.jsx)(w.a.Control,{type:"text",placeholder:"Enter Task",name:"task",value:o,onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)("div",{className:"button-error-container",children:[Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"}),Object(O.jsx)("div",{className:"error",children:i})]})]})})]})}var K=Object(i.o)((function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),d=Object(l.a)(r,2),j=d[0],h=d[1],b=Object(a.useState)(null),u=Object(l.a)(b,2),x=u[0],m=u[1],g=Object(a.useState)(null),f=Object(l.a)(g,2),k=f[0],C=f[1],v=Object(a.useState)(null),w=Object(l.a)(v,2),y=w[0],T=w[1],S=Object(a.useState)(""),I=Object(l.a)(S,2),G=I[0],N=I[1],E=Object(a.useState)(!1),D=Object(l.a)(E,2),H=D[0],M=D[1],A=Object(a.useState)(!1),z=Object(l.a)(A,2),R=z[0],K=z[1],Y=Object(a.useState)(!1),q=Object(l.a)(Y,2),Q=q[0],V=q[1],X=Object(a.useState)(""),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(l.a)(te,2),ae=ne[0],oe=ne[1],ce=Object(a.useState)(0),re=Object(l.a)(ce,2),se=re[0],le=re[1],ie=Object(a.useState)(!1),de=Object(l.a)(ie,2),je=de[0],he=de[1],be=function(e){return le(e)},ue=function(){return K(!0)},Oe=function(){return M(!0)},pe=function(e){return c(e.target.value)},xe=function(e){return h(e.target.value)},me=function(e){return N(e)},ge=function(e){return ee(e)};Object(a.useEffect)((function(){localStorage.getItem("wilsonUserToken")?e.history.push("/"):e.history.push("/login")}),[]);var fe=function(e){e.preventDefault(),Ce()},ke=function(t){t.token?(localStorage.setItem("wilsonUserToken",t.token),T(t.id),m(""),e.history.push("/"),c(""),h(""),he(!1)):(m(t.message),V(!0),h(""),he(!1))},Ce=function(){fetch("https://wilson-rails.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:j})}).then((function(e){return e.json()})).then((function(e){ke(e)})).catch((function(e){return m(e)})),he(!0)};Object(a.useEffect)((function(){fetch("https://wilson-rails.herokuapp.com/user",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(e){return C(e.username)}))}),[y]);var ve=function(e){fetch("https://wilson-rails.herokuapp.com/complete-task/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}})};return Object(O.jsxs)("div",{children:[Object(O.jsx)(p,{handleGoalModalShow:Oe,logoutUser:function(){C(null),localStorage.removeItem("wilsonUserToken"),e.history.push("/login")},loggedinUser:k}),Object(O.jsx)(i.d,{exact:!0,path:"/login",render:function(e){return Object(O.jsx)(P,Object(s.a)({loggingIn:je,handleSubmit:fe,username:o,password:j,handleUsernameChange:pe,handlePasswordChange:xe,loggedinUser:k},e))}}),Object(O.jsx)(i.d,{exact:!0,path:"/signup",render:function(){return Object(O.jsx)(B,{})}}),Object(O.jsx)(U,{show:Q,handleErrorClose:function(){return V(!1)},errors:x}),Object(O.jsx)(W,{handleNewTaskId:ge,show:R,onHide:function(){return K(!1)},goalId:e.id,clickedGoalid:G}),Object(O.jsx)(F,{handleNewGoalId:function(e){return oe(e)},onHide:function(){return M(!1)},show:H,loggedinUser:k}),Object(O.jsx)(i.d,{exact:!0,path:"/",render:function(){return Object(O.jsx)(L,{removedTaskId:se,getRemovedTaskId:be,handleNewTaskId:ge,newGoalId:ae,newTaskId:$,completeTask:ve,handleClickedGoalId:me,handleTaskModalShow:ue,handleGoalModalShow:Oe})}}),Object(O.jsx)(i.d,{exact:!0,path:"/goal-showpage",render:function(){return Object(O.jsx)(_,{completeTask:ve,newTaskId:$,handleClickedGoalId:me,handleTaskModalShow:ue,clickedGoalid:G})}}),Object(O.jsx)(i.d,{exact:!0,path:"/completed",render:function(){return Object(O.jsx)(J,{handleClickedGoalId:me,loggedinUser:e.loggedinUser,handleGoalClick:e.handleGoalClick})}})]})})),Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};c.a.render(Object(O.jsx)(r.BrowserRouter,{basename:"/wilson-2.0",children:Object(O.jsx)(K,{})}),document.getElementById("root")),Y()}},[[77,1,2]]]);
//# sourceMappingURL=main.744f6c70.chunk.js.map