(this["webpackJsonpwilson-2.0"]=this["webpackJsonpwilson-2.0"]||[]).push([[0],{66:function(e,t,n){},67:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(22),c=n.n(o),r=n(24),s=(n(66),n(61)),i=n(7),l=(n(67),n(11)),d=n(82),j=n(88),h=n(59),b=n(91),u=n(26),O=n(1);function p(e){return Object(O.jsxs)(b.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(O.jsxs)(b.a.Brand,{children:[Object(O.jsx)("img",{alt:"",src:"wilson.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","Wilson"]}),Object(O.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(b.a.Collapse,{id:"basic-navbar-nav",children:[Object(O.jsx)(d.a,{className:"mr-auto",children:e.loggedinUser&&Object(O.jsx)(u.LinkContainer,{to:"/completed",children:Object(O.jsx)(d.a.Link,{children:"Completed"})})}),Object(O.jsx)(d.a,{children:e.loggedinUser?Object(O.jsxs)(d.a,{className:"justify-content-end",children:[Object(O.jsxs)(j.a,{id:"signed-in-dropdown",title:e.loggedinUser,children:[Object(O.jsx)(u.LinkContainer,{to:"/",children:Object(O.jsx)(j.a.Item,{children:"Home"})}),Object(O.jsx)(u.LinkContainer,{to:"/completed",children:Object(O.jsx)(j.a.Item,{children:"Completed Goals"})}),Object(O.jsx)(j.a.Divider,{}),Object(O.jsx)(j.a.Item,{onClick:e.logoutUser,children:"Logout"})]}),Object(O.jsx)(h.a,{variant:"secondary",onClick:e.handleGoalModalShow,children:"New Goal"})]}):Object(O.jsx)(u.LinkContainer,{to:"/login",children:Object(O.jsx)(h.a,{variant:"secondary",children:"Please Login"})})})]})]})}var m=n(60),x=n(83),g=n(84),f=n(85),k=n(93),C=n(92),w=n(94),v=n(95),y=n(90),S=n(89);function T(e){return Object(O.jsxs)(S.a,{show:e.show,onHide:e.handleDeleteModalClose,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"Delete"})}),Object(O.jsxs)(S.a.Body,{children:['Delete "',e.name,'" Task?']}),Object(O.jsxs)(S.a.Footer,{children:[Object(O.jsx)(h.a,{variant:"danger",onClick:function(){fetch("https://wilson-rails.herokuapp.com/tasks/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){e.getRemovedTaskId(t.id),e.handleDeleteModalClose()}))},children:"Confirm"}),Object(O.jsx)(h.a,{variant:"secondary",onClick:e.handleDeleteModalClose,children:"Close"})]})]})}function I(e){var t=Object(a.useState)(e.name),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)({}),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(0),b=Object(i.a)(j,2),u=b[0],p=b[1];Object(a.useEffect)((function(){c(e.name)}),[e.name]);return Object(O.jsxs)(S.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"Edit Task"})}),Object(O.jsx)(S.a.Body,{children:Object(O.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),p(u+1),fetch("https://wilson-rails.herokuapp.com/tasks/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o})}).then((function(e){return e.json()})).then((function(t){t.errors?d(t.errors):(e.handleNewTaskId(u),d({}),e.onHide())}))},children:[Object(O.jsxs)(y.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(y.a.Label,{children:"Task:"}),Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Enter Task",name:"task",value:o,onChange:function(e){return c(e.target.value)}}),l.name&&Object(O.jsx)("p",{className:"signup-error",children:l.name[0]})]}),Object(O.jsx)("div",{className:"button-error-container",children:Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"})})]})})]})}function G(e){var t=Object(a.useState)(e.completed),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),s=Object(i.a)(r,2),l=(s[0],s[1],Object(a.useState)(!1)),d=Object(i.a)(l,2),j=d[0],b=d[1],u=Object(a.useState)(!1),p=Object(i.a)(u,2),m=p[0],x=p[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{handleNewTaskId:e.handleNewTaskId,id:e.id,onHide:function(){return x(!1)},name:e.name,show:m}),Object(O.jsx)(T,{getRemovedTaskId:e.getRemovedTaskId,handleNewTaskId:e.handleNewTaskId,id:e.id,handleDeleteModalClose:function(){return b(!1)},name:e.name,show:j}),Object(O.jsx)(k.a.Item,{className:"task",style:{textDecoration:o?"line-through":"",backgroundColor:e.rgb},children:Object(O.jsxs)("div",{className:"task-body",children:[Object(O.jsxs)("div",{className:"task-content",children:[Object(O.jsx)(y.a.Check,{custom:!0,onClick:function(){return t=e.id,e.completeTask(t),c(!o),void(!0===o?e.handleProgressBarChange(-1):e.handleProgressBarChange(1));var t},defaultChecked:e.completed,id:e.id,className:"check"}),e.name]}),Object(O.jsxs)("div",{className:"task-buttons",children:[Object(O.jsx)(h.a,{className:"edit-task-button",variant:"secondary",size:"sm",onClick:function(){return x(!0)},children:"Edit"}),Object(O.jsx)(h.a,{className:"delete-task-button",variant:"danger",size:"sm",onClick:function(){return b(!0)},children:"Delete"})]})]})})]})}function N(e){return Object(O.jsxs)(S.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"Congrats!! You Completed the SOMEGOAL"})}),Object(O.jsx)(S.a.Body,{children:"Would you like to mark this goal as complete?"}),Object(O.jsx)(S.a.Footer,{children:Object(O.jsx)(h.a,{variant:"primary",onClick:function(){return e.completeGoal(e.id)},block:!0,children:"Complete"})})]})}function U(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),o=n[0],c=n[1];return Object(O.jsxs)(S.a,{show:e.show,onHide:e.handleDeleteModalClose,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"Delete"})}),Object(O.jsx)(S.a.Body,{children:'Delete "'.concat(e.name,'" Goal?')}),Object(O.jsxs)(S.a.Footer,{children:[o?Object(O.jsx)("div",{className:"error",children:"Please delete all Tasks associated with this Goal to confirm."}):Object(O.jsx)(h.a,{variant:"danger",onClick:function(){fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){e.getCompletedGoalId(t.id),e.handleDeleteModalClose()})).catch((function(e){console.log(e),c(!0)}))},children:"Confirm"}),Object(O.jsx)(h.a,{variant:"secondary",onClick:function(){e.handleDeleteModalClose(),c(!1)},children:"Close"})]})]})}function E(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),u=b[0],p=b[1],m=Object(a.useState)({}),x=Object(i.a)(m,2),g=x[0],f=x[1],k=Object(a.useState)("red"),C=Object(i.a)(k,2),w=C[0],v=C[1],T=Object(a.useState)(0),I=Object(i.a)(T,2),G=I[0],N=I[1];Object(a.useEffect)((function(){c(e.name),d(e.description),p(e.due_date),v(e.color)}),[e.name,e.description,e.due_date,e.color]);return Object(O.jsxs)(S.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"Edit Goal"})}),Object(O.jsx)(S.a.Body,{children:Object(O.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),N(G+1),fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,description:l,due_date:u,rgb:w})}).then((function(e){return e.json()})).then((function(t){t.errors?f(t.errors):(e.getCompletedGoalId(G),f({}),e.onHide())}))},children:[Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Goal Name:"}),Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Goal Name",value:o,onChange:function(e){return c(e.target.value)}}),g.name&&Object(O.jsx)("p",{className:"signup-error",children:g.name[0]})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Goal Description"}),Object(O.jsx)(y.a.Control,{as:"textarea",rows:5,value:l,onChange:function(e){return d(e.target.value)}}),g.description&&Object(O.jsx)("p",{className:"signup-error",children:g.description[0]})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Complete Goal By: "}),Object(O.jsx)(y.a.Control,{type:"date",onChange:function(e){return p(e.target.value)},value:u})]}),Object(O.jsxs)(y.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(O.jsx)(y.a.Label,{children:"Color"}),Object(O.jsxs)(y.a.Control,{as:"select",onChange:function(e){return v(e.target.value)},value:w,children:[Object(O.jsx)("option",{children:"red"}),Object(O.jsx)("option",{children:"orange"}),Object(O.jsx)("option",{children:"yellow"}),Object(O.jsx)("option",{children:"green"}),Object(O.jsx)("option",{children:"blue"}),Object(O.jsx)("option",{children:"purple"}),Object(O.jsx)("option",{children:"pink"}),Object(O.jsx)("option",{children:"white"}),Object(O.jsx)("option",{children:"black"})]})]}),Object(O.jsx)("div",{className:"button-error-container",children:Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"})})]})})]})}function L(e){var t=Object(a.useState)(0),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),s=Object(i.a)(r,2),l=s[0],j=s[1],p=Object(a.useState)(!1),m=Object(i.a)(p,2),x=m[0],g=m[1],f=Object(a.useState)(!1),y=Object(i.a)(f,2),S=y[0],T=y[1],I=function(){return j(!1)},L=function(){return T(!0)},D=function(){return T(!1)};Object(a.useEffect)((function(){var t=0;e.tasks.forEach((function(e){e.completed&&t++})),c(t)}),[]);var B=function(e){c(o+e)},H=function(){return 100*(o/e.tasks.length)},M=function(){100===H()&&j(!0)};Object(a.useEffect)((function(){H(),M()}),[o]);return Object(O.jsxs)("div",{children:[Object(O.jsx)(E,{getCompletedGoalId:e.getCompletedGoalId,id:e.id,due_date:e.due_date,name:e.name,date:e.date,description:e.description,color:e.rgb,handleEditModalClose:D,onHide:D,handleEditModalShow:L,show:S}),Object(O.jsx)(U,{getCompletedGoalId:e.getCompletedGoalId,id:e.id,handleDeleteModalClose:function(){return g(!1)},name:e.name,show:x}),Object(O.jsx)(N,{id:e.id,completeGoal:function(t){fetch("https://wilson-rails.herokuapp.com/complete-goal/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){t.completed&&(I(),e.getCompletedGoalId(t.id))}))},show:l,onHide:I}),Object(O.jsxs)(C.a,{children:[Object(O.jsx)(C.a.Toggle,{className:"goal-listgroup",style:{backgroundColor:e.rgb},eventKey:e.id,as:k.a.Item,children:Object(O.jsxs)("div",{className:"goal",children:[Object(O.jsx)("div",{className:"goal-name",children:e.name}),Object(O.jsx)(w.a,{style:{backgroundColor:"white",color:e.rgb},now:H()}),Object(O.jsx)("div",{className:"goal-due",children:e.due_date&&Object(O.jsxs)("small",{children:["Due in ",Math.ceil(function(e){var t=new Date;return(new Date(e)-t)/1e3/60/60/24}(e.due_date)+1)," days"]})})]})}),Object(O.jsx)(C.a.Collapse,{eventKey:e.id,children:Object(O.jsxs)(v.a.Body,{className:"goal-body",onClick:function(){return e.handleClickedGoalId(e.id)},children:[Object(O.jsxs)(b.a,{expand:"md",className:"justify-content-center",children:[Object(O.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(b.a.Collapse,{id:"basic-navbar-nav",className:"goal-navbar",children:[Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(u.LinkContainer,{to:"goal-showpage",children:Object(O.jsx)(h.a,{variant:"success",children:"Show"})})}),Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(h.a,{variant:"primary",onClick:e.handleTaskModalShow,children:"Add Task"})}),Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(h.a,{variant:"secondary",onClick:L,children:"Edit"})}),Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(h.a,{variant:"danger",onClick:function(){return g(!0)},children:"Delete"})})]})]}),e.tasks.map((function(t){return Object(O.jsx)(G,{getRemovedTaskId:e.getRemovedTaskId,handleNewTaskId:e.handleNewTaskId,handleProgressBarChange:B,completeTask:e.completeTask,completed:t.completed,rgb:e.rgb,id:t.id,name:t.name},t.id)}))]})})]})]})}var D=Object(l.o)((function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(!1),b=Object(i.a)(j,2),u=b[0],p=b[1],C=function(e){return d(e)};Object(a.useEffect)((function(){w()}),[]),Object(a.useEffect)((function(){w()}),[e.removedTaskId]),Object(a.useEffect)((function(){w()}),[e.newTaskId]),Object(a.useEffect)((function(){w()}),[e.newGoalId]),Object(a.useEffect)((function(){w()}),[l]);var w=function(){fetch("https://wilson-rails.herokuapp.com/goals",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){if(t.error)e.history.push("/login"),p(!1);else{var n=[];t.forEach((function(e){e.completed||n.push(e)})),p(!1),c(n)}})),p(!0)};return Object(O.jsxs)(g.a,{fluid:!0,className:"main",children:[u?Object(O.jsx)(m.a,{id:"main-title-container",children:Object(O.jsxs)("h1",{children:["Loading ",Object(O.jsx)(x.a,{animation:"border",variant:"secondary"})," Please wait... fetching from Heroku"]})}):0===o.length?Object(O.jsxs)(m.a,{id:"main-title-container",children:[Object(O.jsx)("h1",{children:"Click "}),Object(O.jsx)(h.a,{variant:"secondary",id:"main-title-button",onClick:e.handleGoalModalShow,children:"New Goal"}),Object(O.jsx)("h1",{children:"to create a Goal!"})]}):Object(O.jsx)(m.a,{id:"main-title-container",children:Object(O.jsx)("h1",{children:1===o.length?o.length+" Goal Remaining!":o.length+" Goals Remaining"})}),Object(O.jsx)(f.a,{children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)("hr",{style:{borderTop:"3px solid white"}}),Object(O.jsx)(k.a,{children:function(){if(o.length>0)return o.map((function(t){return Object(O.jsx)(L,{getRemovedTaskId:e.getRemovedTaskId,description:t.description,handleNewTaskId:e.handleNewTaskId,due_date:t.due_date,getCompletedGoalId:C,handleCompleteModalShow:e.handleCompleteModalShow,completeTask:e.completeTask,handleClickedGoalId:e.handleClickedGoalId,tasks:t.tasks,handleTaskModalShow:e.handleTaskModalShow,rgb:t.rgb,id:t.id,handleGoalClick:e.handleGoalClick,date:t.date,name:t.name},t.id)}))}()})]})})]})}));var B=Object(l.o)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),u=b[0],p=b[1],m=Object(a.useState)({}),g=Object(i.a)(m,2),f=g[0],k=g[1],C=Object(a.useState)(!1),w=Object(i.a)(C,2),v=w[0],T=w[1];return Object(O.jsxs)(S.a,{show:e.signUpShow,onHide:e.handleSignUpClose,backdrop:"static",keyboard:!1,size:"lg",centered:!0,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"Sign Up for Wilson!"})}),Object(O.jsx)(S.a.Body,{children:Object(O.jsxs)(y.a,{onSubmit:function(t){k({}),t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:l,password_confirmation:u})}).then((function(e){return e.json()})).then((function(t){t.errors?k(t.errors):(console.log("USER",t),e.setLoggedinUserId(t.id),e.loginUser(o,l),e.handleSignUpClose()),T(!1)})).catch((function(e){k("Database Error: Please try again later."),T(!1)})),T(!0)},children:[Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Create Username:"}),Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Enter username",value:o,onChange:function(e){return c(e.target.value)}}),f.username&&Object(O.jsx)("p",{className:"signup-error",children:f.username[0]})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Password:"}),Object(O.jsx)(y.a.Control,{type:"password",placeholder:"Password",value:l,onChange:function(e){return d(e.target.value)}}),f.password&&Object(O.jsx)("p",{className:"signup-error",children:f.password[0]})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Re-enter password:"}),Object(O.jsx)(y.a.Control,{type:"password",placeholder:"Re-enter password",value:u,onChange:function(e){return p(e.target.value)}}),f.password_confirmation&&Object(O.jsx)("p",{className:"signup-error",children:f.password_confirmation[0]})]}),v?Object(O.jsxs)(h.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(x.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," Loading..."]}):Object(O.jsx)(h.a,{id:"login-button",variant:"primary",type:"submit",children:"Sign Up"})]})})]})})),H=n(86);function M(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),o=n[0],c=n[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)(B,{loginUser:e.loginUser,setLoggedinUserId:e.setLoggedinUserId,signUpShow:o,handleSignUpClose:function(){return c(!1)}}),Object(O.jsxs)(g.a,{style:{backgroundColor:"#333",color:"white",padding:"3%"},children:[Object(O.jsxs)(f.a,{style:{marginBottom:"3%"},children:[Object(O.jsx)(m.a,{sm:4,style:{textAlign:"center"},children:Object(O.jsx)(H.a,{style:{height:"200px",width:"200px"},src:"wilson.png",rounded:!0})}),Object(O.jsxs)(m.a,{sm:8,style:{margin:"auto 0"},children:[Object(O.jsxs)("h1",{children:["Welcome to ",Object(O.jsx)("span",{style:{color:"rgb(214, 17, 18)"},children:"Wilson"})]}),Object(O.jsx)("h5",{children:"A simple app to keep track of your goals"})]})]}),Object(O.jsx)(f.a,{children:Object(O.jsx)(m.a,{id:"login-container",children:Object(O.jsxs)(y.a,{onSubmit:e.handleSubmit,id:"login-form",children:[Object(O.jsxs)(y.a.Group,{controlId:"username",children:[Object(O.jsx)(y.a.Label,{children:"Username:"}),Object(O.jsx)(y.a.Control,{type:"username",placeholder:"Enter username",name:"username",value:e.username,onChange:e.handleUsernameChange})]}),Object(O.jsxs)(y.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(y.a.Label,{children:"Password"}),Object(O.jsx)(y.a.Control,{type:"password",placeholder:"Password",name:"password",value:e.password,onChange:e.handlePasswordChange})]}),Object(O.jsxs)("div",{className:"button-link-container",children:[e.loggingIn?Object(O.jsxs)(h.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(x.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," Loading..."]}):Object(O.jsx)(h.a,{id:"login-button",variant:"primary",type:"submit",children:"Login"}),Object(O.jsx)(h.a,{variant:"danger",onClick:function(){return c(!0)},children:"Sign Up"})]})]})})})]})]})}var P=n(87);function z(e){return Object(O.jsx)(k.a.Item,{className:"task",style:{backgroundColor:e.rgb},children:Object(O.jsx)("div",{className:"task-body-complete",children:e.name})})}function A(e){return Object(O.jsx)("div",{style:{padding:"0px",display:"inline-block"},children:Object(O.jsxs)(C.a,{children:[Object(O.jsx)(C.a.Toggle,{style:{backgroundColor:e.rgb},className:"goal-listgroup",eventKey:e.id,as:k.a.Item,children:Object(O.jsxs)("div",{className:"goal",children:[Object(O.jsx)("div",{className:"goal-name",children:e.name}),Object(O.jsxs)("div",{className:"goal-due",children:["Completed on: ",function(e){var t=new Date(e);return t.getMonth()+1+"/"+(t.getDate()+1)+"/"+t.getFullYear()}(e.completedDate)]})]})}),Object(O.jsx)(C.a.Collapse,{eventKey:e.id,children:Object(O.jsxs)(v.a.Body,{onClick:function(){return e.handleClickedGoalId(e.id)},children:[Object(O.jsx)(u.LinkContainer,{to:"goal-showpage",children:Object(O.jsx)(h.a,{variant:"danger",children:"Show"})}),e.tasks.map((function(t){return Object(O.jsx)(z,{name:t.name,rgb:e.rgb},t.id)}))]})})]})})}var _=Object(l.o)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),l=s[0],d=s[1],j=function(e){return d(e)};Object(a.useEffect)((function(){""!==l&&e.history.push("/")}),[l]),Object(a.useEffect)((function(){h()}),[e.newTaskId]);var h=function(){fetch("https://wilson-rails.herokuapp.com/goals/".concat(e.clickedGoalid),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(e){c(e)}))};return Object(O.jsxs)(g.a,{fluid:!0,style:{backgroundColor:"#333",padding:"50px"},children:[Object(O.jsx)(f.a,{children:Object(O.jsx)(m.a,{children:Object(O.jsxs)(P.a,{style:{border:"solid ".concat(o.rgb," 4px")},children:[Object(O.jsx)("h1",{children:o.name}),Object(O.jsx)("p",{children:o.description})]})})}),Object(O.jsx)(f.a,{children:Object(O.jsx)(m.a,{children:Object(O.jsx)(k.a,{children:o?o.completed?Object(O.jsx)(A,{completedDate:o.completed_date,handleClickedGoalId:e.handleClickedGoalId,tasks:o.tasks,name:o.name,id:o.id,rgb:o.rgb},o.id):Object(O.jsx)(L,{getCompletedGoalId:j,completeTask:e.completeTask,handleClickedGoalId:e.handleClickedGoalId,id:o.id,tasks:o.tasks,rgb:o.rgb,name:o.name,handleTaskModalShow:e.handleTaskModalShow}):null})})})]})}));function R(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),u=b[0],p=b[1],m=Object(a.useState)({}),x=Object(i.a)(m,2),g=x[0],f=x[1],k=Object(a.useState)("red"),C=Object(i.a)(k,2),w=C[0],v=C[1];return Object(O.jsxs)(S.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"New Goal"})}),Object(O.jsx)(S.a.Body,{children:Object(O.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/goals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,description:l,due_date:u,rgb:w})}).then((function(e){return e.json()})).then((function(t){t.errors?f(t.errors):(e.handleNewGoalId(t.id),c(""),d(""),p(""),f({}),e.onHide())}))},children:[Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Goal Name:"}),Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Goal Name",value:o,onChange:function(e){return c(e.target.value)}}),g.name&&Object(O.jsx)("p",{className:"signup-error",children:g.name[0]})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Goal Description"}),Object(O.jsx)(y.a.Control,{as:"textarea",rows:5,value:l,onChange:function(e){return d(e.target.value)}}),g.description&&Object(O.jsx)("p",{className:"signup-error",children:g.description[0]})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsx)(y.a.Label,{children:"Complete Goal By: "}),Object(O.jsx)(y.a.Control,{type:"date",onChange:function(e){return p(e.target.value)},value:u})]}),Object(O.jsxs)(y.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(O.jsx)(y.a.Label,{children:"Color"}),Object(O.jsxs)(y.a.Control,{as:"select",onChange:function(e){return v(e.target.value.toLowerCase())},children:[Object(O.jsx)("option",{children:"Red"}),Object(O.jsx)("option",{children:"Orange"}),Object(O.jsx)("option",{children:"Yellow"}),Object(O.jsx)("option",{children:"Green"}),Object(O.jsx)("option",{children:"Blue"}),Object(O.jsx)("option",{children:"Purple"}),Object(O.jsx)("option",{children:"Pink"}),Object(O.jsx)("option",{children:"White"}),Object(O.jsx)("option",{children:"Black"})]})]}),Object(O.jsx)("div",{className:"button-error-container",children:Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"})})]})})]})}var F=Object(l.o)((function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){fetch("https://wilson-rails.herokuapp.com/goals",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(t){if(t.error)e.history.push("/login");else{var n=[];t.forEach((function(e){e.completed&&n.push(e)})),c(n)}}))};return Object(O.jsxs)(g.a,{fluid:!0,style:{backgroundColor:"#333",color:"white",padding:"3%",minHeight:"80vh",width:"100%"},children:[Object(O.jsx)(m.a,{id:"completed-title-container",children:Object(O.jsx)("h1",{children:"Completed"})}),Object(O.jsx)(f.a,{children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)("hr",{style:{borderTop:"3px solid white"}}),Object(O.jsx)(k.a,{children:function(){if(o.length>0)return o.map((function(t){return Object(O.jsx)(A,{completedDate:t.completed_date,handleClickedGoalId:e.handleClickedGoalId,tasks:t.tasks,name:t.name,id:t.id,rgb:t.rgb},t.id)}))}()})]})})]})}));function J(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)({}),s=Object(i.a)(r,2),l=s[0],d=s[1];return Object(O.jsxs)(S.a,{show:e.show,onHide:e.onHide,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"New Task"})}),Object(O.jsx)(S.a.Body,{children:Object(O.jsxs)(y.a,{onSubmit:function(t){t.preventDefault(),fetch("https://wilson-rails.herokuapp.com/tasks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")},body:JSON.stringify({name:o,goal_id:e.clickedGoalid})}).then((function(e){return e.json()})).then((function(t){t.errors?d(t.errors):(e.handleNewTaskId(t.id),c(""),d(""),e.onHide(),d({}))}))},children:[Object(O.jsxs)(y.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(y.a.Label,{children:"Task:"}),Object(O.jsx)(y.a.Control,{type:"text",placeholder:"Enter Task",name:"task",value:o,onChange:function(e){return c(e.target.value)}}),l.name&&Object(O.jsx)("p",{className:"signup-error",children:l.name[0]})]}),Object(O.jsx)("div",{className:"button-error-container",children:Object(O.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"})})]})})]})}function W(e){return Object(O.jsxs)(S.a,{show:e.show,onHide:e.handleErrorClose,children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{children:"Error:"})}),Object(O.jsx)(S.a.Body,{children:e.errors}),Object(O.jsx)(S.a.Footer,{children:Object(O.jsx)(h.a,{variant:"secondary",onClick:e.handleErrorClose,children:"Close"})})]})}var K=Object(l.o)((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(""),d=Object(i.a)(r,2),j=d[0],h=d[1],b=Object(a.useState)(null),u=Object(i.a)(b,2),m=u[0],x=u[1],g=Object(a.useState)(null),f=Object(i.a)(g,2),k=f[0],C=f[1],w=Object(a.useState)(null),v=Object(i.a)(w,2),y=v[0],S=v[1],T=Object(a.useState)(""),I=Object(i.a)(T,2),G=I[0],N=I[1],U=Object(a.useState)(!1),E=Object(i.a)(U,2),L=E[0],H=E[1],P=Object(a.useState)(!1),z=Object(i.a)(P,2),A=z[0],K=z[1],Y=Object(a.useState)(!1),q=Object(i.a)(Y,2),Q=q[0],V=q[1],X=Object(a.useState)(""),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(i.a)(te,2),ae=ne[0],oe=ne[1],ce=Object(a.useState)(0),re=Object(i.a)(ce,2),se=re[0],ie=re[1],le=Object(a.useState)(!1),de=Object(i.a)(le,2),je=de[0],he=de[1],be=function(e){return ie(e)},ue=function(){return K(!0)},Oe=function(){return H(!0)},pe=function(e){return c(e.target.value)},me=function(e){return h(e.target.value)},xe=function(e){return N(e)},ge=function(e){return ee(e)};Object(a.useEffect)((function(){localStorage.getItem("wilsonUserToken")?e.history.push("/"):e.history.push("/login")}),[]);var fe=function(e){e.preventDefault(),Ce(o,j)},ke=function(t){t.token?(localStorage.setItem("wilsonUserToken",t.token),S(t.id),x(""),e.history.push("/"),c(""),h(""),he(!1)):(x(t.message),V(!0),h(""),he(!1))},Ce=function(e,t){fetch("https://wilson-rails.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){ke(e)})).catch((function(e){return x(e)})),he(!0)};Object(a.useEffect)((function(){fetch("https://wilson-rails.herokuapp.com/user",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}}).then((function(e){return e.json()})).then((function(e){return C(e.username)}))}),[y]);var we=function(e){fetch("https://wilson-rails.herokuapp.com/complete-task/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("wilsonUserToken")}})};return Object(O.jsxs)("div",{children:[Object(O.jsx)(p,{handleGoalModalShow:Oe,logoutUser:function(){C(null),localStorage.removeItem("wilsonUserToken"),e.history.push("/login")},loggedinUser:k}),Object(O.jsx)(l.d,{exact:!0,path:"/login",render:function(e){return Object(O.jsx)(M,Object(s.a)({loginUser:Ce,setLoggedinUserId:S,loggingIn:je,handleSubmit:fe,username:o,password:j,handleUsernameChange:pe,handlePasswordChange:me,loggedinUser:k},e))}}),Object(O.jsx)(l.d,{exact:!0,path:"/signup",render:function(){return Object(O.jsx)(B,{})}}),Object(O.jsx)(W,{show:Q,handleErrorClose:function(){return V(!1)},errors:m}),Object(O.jsx)(J,{handleNewTaskId:ge,show:A,onHide:function(){return K(!1)},goalId:e.id,clickedGoalid:G}),Object(O.jsx)(R,{handleNewGoalId:function(e){return oe(e)},onHide:function(){return H(!1)},show:L,loggedinUser:k}),Object(O.jsx)(l.d,{exact:!0,path:"/",render:function(){return Object(O.jsx)(D,{removedTaskId:se,getRemovedTaskId:be,handleNewTaskId:ge,newGoalId:ae,newTaskId:$,completeTask:we,handleClickedGoalId:xe,handleTaskModalShow:ue,handleGoalModalShow:Oe})}}),Object(O.jsx)(l.d,{exact:!0,path:"/goal-showpage",render:function(){return Object(O.jsx)(_,{completeTask:we,newTaskId:$,handleClickedGoalId:xe,handleTaskModalShow:ue,clickedGoalid:G})}}),Object(O.jsx)(l.d,{exact:!0,path:"/completed",render:function(){return Object(O.jsx)(F,{handleClickedGoalId:xe,loggedinUser:e.loggedinUser,handleGoalClick:e.handleGoalClick})}})]})})),Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};c.a.render(Object(O.jsx)(r.BrowserRouter,{basename:"/wilson-2.0",children:Object(O.jsx)(K,{})}),document.getElementById("root")),Y()}},[[77,1,2]]]);
//# sourceMappingURL=main.f0befcd2.chunk.js.map